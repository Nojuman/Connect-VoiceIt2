{"modules":[{"id":"cb086ad2-976d-4574-a994-5ba028e36205","type":"PlayPrompt","branches":[{"condition":"Success","transition":"294cd568-b4bb-4633-ae70-2143aedd3df5"}],"parameters":[{"name":"Text","value":"error with the output of lambda function","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":892,"y":1061},"useDynamic":false}},{"id":"dad1c1fb-65c2-45d9-80e9-c11d8a82908b","type":"PlayPrompt","branches":[{"condition":"Success","transition":"294cd568-b4bb-4633-ae70-2143aedd3df5"}],"parameters":[{"name":"Text","value":"Congratulations. You are now considered verified on Amazon Connect, and can access secure functions.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1061,"y":503},"useDynamic":false}},{"id":"294cd568-b4bb-4633-ae70-2143aedd3df5","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":1944,"y":553}}},{"id":"4a8ead76-f832-4e7a-9d2e-f161f892d9db","type":"PlayPrompt","branches":[{"condition":"Success","transition":"294cd568-b4bb-4633-ae70-2143aedd3df5"}],"parameters":[{"name":"Text","value":"failed to execute lambda function","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":480,"y":921},"useDynamic":false}},{"id":"6caefc09-1131-44f5-8254-073de94e3ffc","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"3836fef8-6bb0-4fc2-96c9-00d94161a5e4"},{"condition":"Error","transition":"4a8ead76-f832-4e7a-9d2e-f161f892d9db"}],"parameters":[{"name":"FunctionArn","value":null},{"name":"TimeLimit","value":"3"}],"metadata":{"position":{"x":255,"y":34},"dynamicMetadata":{}},"target":"Lambda"},{"id":"52e30fc6-5256-4215-8558-8d06266c76cf","type":"PlayPrompt","branches":[{"condition":"Success","transition":"294cd568-b4bb-4633-ae70-2143aedd3df5"}],"parameters":[{"name":"Text","value":"error calling twilio","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1616,"y":371},"useDynamic":false}},{"id":"cbf2d1ed-d2b0-4b8d-9f9e-0f56eb9b0ca0","type":"PlayPrompt","branches":[{"condition":"Success","transition":"6b8d84e6-5cc9-4b8b-b458-7a464f3d498c"}],"parameters":[{"name":"Text","value":"you exist in our system. please prepare to verify as prompted","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1009,"y":-14},"useDynamic":false}},{"id":"e9cbd607-1d2f-40cd-a4f7-c07aa63f4862","type":"PlayPrompt","branches":[{"condition":"Success","transition":"6b8d84e6-5cc9-4b8b-b458-7a464f3d498c"}],"parameters":[{"name":"Text","value":"you do not exist in our system. please prepare to enroll in our system as prompted","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1011,"y":130},"useDynamic":false}},{"id":"8289f1bc-163c-45cb-b4e3-acfc666b12a2","type":"PlayPrompt","branches":[{"condition":"Success","transition":"6b8d84e6-5cc9-4b8b-b458-7a464f3d498c"}],"parameters":[{"name":"Text","value":"it seems you are registered in our system, but you did not enroll an adequate number of voice phrases into our system. Please make sure you do not end the call before we confirm that you are enrolled.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1011,"y":272},"useDynamic":false}},{"id":"3836fef8-6bb0-4fc2-96c9-00d94161a5e4","type":"CheckAttribute","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"verify","transition":"cbf2d1ed-d2b0-4b8d-9f9e-0f56eb9b0ca0"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"enrollfromscratch","transition":"e9cbd607-1d2f-40cd-a4f7-c07aa63f4862"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"enroll","transition":"8289f1bc-163c-45cb-b4e3-acfc666b12a2"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"verified","transition":"dad1c1fb-65c2-45d9-80e9-c11d8a82908b"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"failedverified","transition":"6b8d84e6-5cc9-4b8b-b458-7a464f3d498c"},{"condition":"NoMatch","transition":"cb086ad2-976d-4574-a994-5ba028e36205"}],"parameters":[{"name":"Attribute","value":"Branch"},{"name":"Namespace","value":"External"}],"metadata":{"position":{"x":578,"y":35},"conditionMetadata":[{"id":"3cf3840a-9bd2-4747-93a5-ea1f1ef38cdc","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"verify"},{"id":"845b7f2c-3155-4766-8e6e-ff6c0d15e9d3","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"enrollfromscratch"},{"id":"6397289a-dc9f-4138-a973-171b0b2fe3c7","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"enroll"},{"id":"bdf6e0b8-c7d8-489f-9b96-24422f2773e6","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"verified"},{"id":"89e233df-53dd-401e-8f31-c9705ffb8647","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"failedverified"}]}},{"id":"6b8d84e6-5cc9-4b8b-b458-7a464f3d498c","type":"Transfer","branches":[{"condition":"Error","transition":"52e30fc6-5256-4215-8558-8d06266c76cf"}],"parameters":[{"name":"TimeLimit","value":"30"},{"name":"PhoneNumber","value":"+1"}],"metadata":{"position":{"x":1322,"y":310},"SourceNumber":"","CountryCode":"us"},"target":"PhoneNumber"}],"version":"1","type":"contactFlow","start":"6caefc09-1131-44f5-8254-073de94e3ffc","metadata":{"entryPointPosition":{"x":20,"y":20},"snapToGrid":false,"name":"exampleconnectvoiceit","description":null,"type":"contactFlow","status":"saved","hash":"06c95a36546e1f16acdf3739a271add88f0a2d92d7a11403e3d1869c9cd67218"}}